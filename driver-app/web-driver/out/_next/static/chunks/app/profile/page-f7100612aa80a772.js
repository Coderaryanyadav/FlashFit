(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{3715:function(e,t,r){Promise.resolve().then(r.bind(r,7789))},7789:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437),n=r(2265),i=r(5978),a=r(1694),l=r(3301),o=r(9376),c=r(2869),d=r(6124),u=r(8301);let f=(0,u.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var x=r(5208);let p=(0,u.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),h=(0,u.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function m(){var e;let[t,r]=(0,n.useState)(null),[u,m]=(0,n.useState)({}),g=(0,o.useRouter)();(0,n.useEffect)(()=>{let e=(0,l.Aj)(a.I8,e=>r(e));return()=>e()},[]),(0,n.useEffect)(()=>{if(!t)return;let e=(0,i.cf)((0,i.JU)(a.db,"drivers",t.uid),e=>{e.exists()&&m(e.data())});return()=>e()},[t]);let b=async()=>{await (0,l.w7)(a.I8),g.push("/login")};return t?(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white pb-24 px-4 pt-8",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"h-24 w-24 bg-zinc-800 rounded-full flex items-center justify-center border-2 border-green-500 shadow-[0_0_20px_rgba(34,197,94,0.2)] overflow-hidden",children:u.photoURL?(0,s.jsx)("img",{src:u.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):(0,s.jsx)(d.Z,{className:"h-12 w-12 text-gray-400"})}),(0,s.jsx)("button",{onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let r=e.target.files[0];if(r){if(r.size>512e3){alert("File size too large. Please choose an image under 500KB.");return}let e=new FileReader;e.onloadend=async()=>{let r=e.result;try{await (0,i.r7)((0,i.JU)(a.db,"drivers",t.uid),{photoURL:r})}catch(e){console.error("Error updating profile picture:",e),alert("Failed to update profile picture")}},e.readAsDataURL(r)}},e.click()},className:"absolute bottom-0 right-0 h-8 w-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-black opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(d.Z,{className:"h-4 w-4 text-black"})})]}),(0,s.jsx)("h1",{className:"text-2xl font-bold mt-4",children:t.displayName||"Driver"}),(0,s.jsx)("p",{className:"text-gray-500",children:t.email})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-gray-400",children:[(0,s.jsx)(f,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs uppercase font-bold",children:"Earnings"})]}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:["â‚¹",u.totalEarnings||0]})]}),(0,s.jsxs)("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-gray-400",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs uppercase font-bold",children:"Deliveries"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:u.totalDeliveries||0})]})]}),(0,s.jsxs)("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-full flex items-center justify-center",children:(0,s.jsx)(p,{className:"h-5 w-5 text-yellow-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Rating"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Based on customer feedback"})]})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:(null===(e=u.rating)||void 0===e?void 0:e.toFixed(1))||"0.0"})]}),(0,s.jsx)("div",{className:"flex gap-1 justify-center mt-2",children:[1,2,3,4,5].map(e=>(0,s.jsx)(p,{className:"h-6 w-6 ".concat((u.rating||0)>=e?"fill-yellow-500 text-yellow-500":(u.rating||0)>=e-.5?"fill-yellow-500/50 text-yellow-500":"text-zinc-700")},e))})]}),(0,s.jsxs)(c.z,{onClick:b,variant:"destructive",className:"w-full h-14 text-lg font-bold rounded-xl",children:[(0,s.jsx)(h,{className:"mr-2 h-5 w-5"})," Logout"]})]}):null}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),n=r(2265),i=r(5293),a=r(535),l=r(6869);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:a,className:r})),ref:t,...d})});c.displayName="Button"},6869:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),n=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},1694:function(e,t,r){"use strict";r.d(t,{I8:function(){return d},db:function(){return c},wk:function(){return u}});var s=r(738),n=r(3301),i=r(5978),a=r(62),l=r(5434);let o=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyCcO8q6G08EPk047pncwT0UdJLiDB3WJ6I",authDomain:"studio-847805730-4f392.firebaseapp.com",projectId:"studio-847805730-4f392",storageBucket:"studio-847805730-4f392.firebasestorage.app",messagingSenderId:"497323679456",appId:"1:497323679456:web:fef3f0e6e3af943969ba85"}):(0,s.C6)()[0],c=(0,i.ad)(o),d=(0,n.v0)(o);(0,a.cF)(o);let u=(0,l.$C)(o)},5208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8301).Z)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},6124:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8301).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[358,139,25,321,971,117,744],function(){return e(e.s=3715)}),_N_E=e.O()}]);